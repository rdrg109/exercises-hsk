<my-anki-field name="identifier">{{identifier}}</my-anki-field>
<my-anki-field name="exercise-number">{{exercise number}}</my-anki-field>
<my-anki-field name="paragraph">{{paragraph}}</my-anki-field>
<my-anki-field name="star">{{star}}</my-anki-field>
<my-anki-field name="alternative-a">{{alternative a}}</my-anki-field>
<my-anki-field name="alternative-b">{{alternative b}}</my-anki-field>
<my-anki-field name="alternative-c">{{alternative c}}</my-anki-field>
<my-anki-field name="alternative-d">{{alternative d}}</my-anki-field>
<my-anki-field name="answer">{{answer}}</my-anki-field>

<link rel="stylesheet" href="exercises.css">
<link rel="stylesheet" href="exercises-hsk.css">

<style>
@import url('exercises.css');
@import url('exercises-hsk.css');

.card {
    font-family: arial;
    font-size: 20px;
    text-align: center;
    color: black;
    background-color: white;
}
</style>

<script src="anki-persistence-v1.1.8-minified.js"></script>
<script src="exercises.js"></script>
<script src="exercises-hsk.js"></script>
<script>
  var data = getAllAnkiFields()
  var parent = document.getElementById('qa')

  var identifier = document.createElement('div')
  identifier.textContent = data['identifier']

  var paragraph = document.createElement('div')
  paragraph.innerHTML = insertWikidataLinks(data['paragraph'])
  paragraph.classList.add('exercises-main-text')

  var exercise = document.createElement('div')
  exercise.classList.add('exercises-exercise-multiple-choice')

  var star = document.createElement('div')
  star.textContent = data['star']
  star.classList.add('instruction')

  var alternatives = document.createElement('div')
  alternatives.classList.add('alternatives')
  for(const alternativeLetter of ["A", "B", "C", "D"]) {
    let alternative = document.createElement('div')
    alternative.classList.add('alternative')
    let id = 'alternative-' + alternativeLetter.toLowerCase()
    let button = document.createElement('input')
    let groupName = 'alternative'
    button.type = 'radio'
    button.name = groupName
    button.value = alternativeLetter
    button.id = 'alternative-' + alternativeLetter.toLowerCase()
    button.addEventListener('change', function() {
      Persistence.setItem(groupName, id)
    })
    button.classList.add('button')
    let label = document.createElement('div')
    label.textContent = alternativeLetter
    label.classList.add('label')
    let content = document.createElement('div')
    content.textContent = data[id]
    content.classList.add('content')
    alternative.appendChild(button)
    alternative.appendChild(label)
    alternative.appendChild(content)
    alternatives.appendChild(alternative)
  }

  exercise.appendChild(star)
  exercise.appendChild(alternatives)

  parent.appendChild(identifier)
  parent.appendChild(paragraph)
  parent.appendChild(exercise)

  makeWikidataSensesClickable()
</script>
